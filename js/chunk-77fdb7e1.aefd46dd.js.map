{"version":3,"sources":["webpack:///./src/views/setting.vue?3867","webpack:///src/views/setting.vue","webpack:///./src/views/setting.vue?9cba","webpack:///./src/views/setting.vue","webpack:///./src/views/setting.vue?4593","webpack:///./node_modules/core-js/modules/es.array.index-of.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","ruleForm","rules","_v","_s","$t","model","value","callback","$$v","url","expression","KHGPassword","EDAPKey","isNotification","on","setting","staticRenderFns","name","data","indexOf","Error","computed","created","user","notification","methods","$refs","settingForm","validate","component","$","$indexOf","arrayMethodIsStrict","arrayMethodUsesToLength","nativeIndexOf","NEGATIVE_ZERO","STRICT_METHOD","USES_TO_LENGTH","ACCESSORS","1","target","proto","forced","searchElement","apply","arguments","length","undefined"],"mappings":"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","file":"js/chunk-77fdb7e1.aefd46dd.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"setting\"},[_c('el-card',{staticClass:\"setting-card\"},[_c('el-form',{ref:\"settingForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-position\":\"left\",\"label-width\":\"115px\"}},[_c('div',{staticClass:\"warning\"},[_vm._v(_vm._s(_vm.$t('setting.warning.url')))]),_c('div',{staticClass:\"example\"},[_vm._v(_vm._s(_vm.$t('setting.example'))+\" http://123.123.123.123:8090/\")]),_c('el-form-item',{attrs:{\"required\":\"\",\"label\":_vm.$t('setting.url'),\"prop\":\"url\"}},[_c('el-input',{model:{value:(_vm.url),callback:function ($$v) {_vm.url=$$v},expression:\"url\"}})],1),_c('div',{staticClass:\"warning\"},[_vm._v(_vm._s(_vm.$t('setting.warning.password')))]),_c('el-form-item',{attrs:{\"required\":\"\",\"label\":_vm.$t('setting.password'),\"prop\":\"KHGPassword\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.KHGPassword),callback:function ($$v) {_vm.KHGPassword=$$v},expression:\"KHGPassword\"}})],1),_c('div',{staticClass:\"warning\"},[_vm._v(_vm._s(_vm.$t('setting.warning.EDAP')))]),_c('el-form-item',{attrs:{\"label\":\"E.D.A.P Key：\"}},[_c('el-input',{attrs:{\"required\":\"\",\"prop\":\"EDAPKey\"},model:{value:(_vm.EDAPKey),callback:function ($$v) {_vm.EDAPKey=$$v},expression:\"EDAPKey\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Telegram通知\"}},[_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#DCDFE6\"},model:{value:(_vm.isNotification),callback:function ($$v) {_vm.isNotification=$$v},expression:\"isNotification\"}})],1)],1),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.setting}},[_vm._v(\" \"+_vm._s(_vm.$t('setting.send'))+\" \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"setting\">\n    <el-card class=\"setting-card\">\n      <el-form ref=\"settingForm\" :model=\"ruleForm\" :rules=\"rules\" label-position=\"left\" label-width=\"115px\">\n        <div class=\"warning\">{{ $t('setting.warning.url') }}</div>\n        <div class=\"example\">{{ $t('setting.example') }} http://123.123.123.123:8090/</div>\n        <el-form-item required :label=\"$t('setting.url')\" prop=\"url\">\n          <el-input v-model=\"url\" />\n        </el-form-item>\n        <div class=\"warning\">{{ $t('setting.warning.password') }}</div>\n        <el-form-item required :label=\"$t('setting.password')\" prop=\"KHGPassword\">\n          <el-input v-model=\"KHGPassword\" type=\"password\" />\n        </el-form-item>\n        <div class=\"warning\">{{ $t('setting.warning.EDAP') }}</div>\n        <el-form-item label=\"E.D.A.P Key：\">\n          <el-input v-model=\"EDAPKey\" required prop=\"EDAPKey\" />\n        </el-form-item>\n        <el-form-item label=\"Telegram通知\">\n          <el-switch\n            v-model=\"isNotification\"\n            active-color=\"#13ce66\"\n            inactive-color=\"#DCDFE6\"\n          />\n        </el-form-item>\n      </el-form>\n      <el-button type=\"primary\" @click=\"setting\">\n        {{ $t('setting.send') }}\n      </el-button>\n    </el-card>\n  </section>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\n\nexport default {\n  name: 'Setting',\n  data() {\n    const validHttpString = (rule, value, callback) => {\n      if (value.indexOf('http://') >= 0 || value.indexOf('HTTP://') >= 0) {\n        callback()\n      } else {\n        callback(new Error(this.$t('setting.validatorMessage.url.format')))\n      }\n    }\n    return {\n      KHGPassword: '',\n      url: '',\n      EDAPKey: '',\n      isNotification: false,\n      rules: {\n        url: [\n          { required: true, message: this.$t('setting.validatorMessage.url.required'), trigger: 'blur' },\n          { validator: validHttpString, trigger: 'blur' }\n        ],\n        KHGPassword: [\n          { required: true, message: this.$t('setting.validatorMessage.password.required'), trigger: 'blur' }\n        ],\n        EDAPKey: [\n          { required: true, message: this.$t('setting.validatorMessage.password.required'), trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  computed: {\n    ...mapState({\n      user: state => state.login.user\n    }),\n    ruleForm() {\n      return {\n        url: this.url,\n        KHGPassword: this.KHGPassword,\n        EDAPKey: this.EDAPKey\n      }\n    }\n  },\n  created() {\n    this.KHGPassword = this.user.KHGPassword\n    this.url = this.user.url\n    this.EDAPKey = this.user.EDAPKey\n    this.isNotification = this.user.notification\n  },\n  methods: {\n    ...mapActions('setting', {\n      Setting: 'Setting'\n    }),\n    setting() {\n      this.$refs.settingForm.validate(async valid => {\n        if (!valid) {\n          console.error('error submit!!')\n          return\n        } else {\n          try {\n            await this.Setting({\n              KHGPassword: this.KHGPassword,\n              url: this.url,\n              EDAPKey: this.EDAPKey,\n              email: this.user.email,\n              notification: this.isNotification\n            })\n            this.$message.success({\n              message: '設定成功'\n            })\n            this.$router.push('/')\n          } catch (error) {\n            this.$router.push('/login')\n          }\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n  .setting\n    display: flex\n    justify-content: center\n    align-items: center\n    position: relative\n  .setting-card\n    padding: 15px\n    width: 100%\n    max-width: 500px\n  .el-input\n    width: 100%\n    max-width: 300px\n  .warning\n    text-align: left\n    color: red\n  .example\n    text-align: left\n    color: orange\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./setting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./setting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./setting.vue?vue&type=template&id=05d5687c&scoped=true&\"\nimport script from \"./setting.vue?vue&type=script&lang=js&\"\nexport * from \"./setting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./setting.vue?vue&type=style&index=0&id=05d5687c&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05d5687c\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./setting.vue?vue&type=style&index=0&id=05d5687c&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./setting.vue?vue&type=style&index=0&id=05d5687c&lang=sass&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}